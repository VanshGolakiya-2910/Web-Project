<div class="container mt-5">
  <h2>Password Strength Checker</h2>

  <!-- Mode Selection Buttons -->
  <div class="btn-group" role="group">
    <button type="button" class="btn btn-primary" (click)="setMode('basic')">Basic</button>
    <button type="button" class="btn btn-secondary" (click)="setMode('intermediate')">Intermediate</button>
    <button type="button" class="btn btn-success" (click)="setMode('advanced')">Advanced</button>
  </div>

  <!-- Password Input and Show/Hide Toggle -->
  <div class="input-group mt-3">
    <input 
      [type]="passwordVisible ? 'text' : 'password'" 
      class="form-control" 
      placeholder="Enter your password" 
      [(ngModel)]="password"
      (keydown)="handleKeyDown($event)">
    <button class="btn" (click)="togglePasswordVisibility()"><i class="bi bi-eye"></i></button>
  </div>

  <div id="passwordHelp" class="form-text mt-2">
    Make sure it's at least 8 characters, including a number and a symbol.
  </div>

  <!-- Generated Password Display -->
  <div *ngIf="generatedPassword" class="mt-3">
    <h4>Generated Password:</h4>
    <p>{{ generatedPassword }}</p>
  </div>

  <!-- Strength Meter -->
  <div class="strength-meter mt-2">
    <div [ngClass]="strengthClass" class="progress-bar" role="progressbar" [style.width.%]="strengthScore"></div>
  </div>
  <div class="mt-2">{{ strength }}</div>

  <!-- Feedback Messages -->
  <div class="feedback mt-2">
    <ul>
      <li *ngFor="let message of feedback">{{ message }}</li>
    </ul>
  </div>

  <!-- Check and Generate Buttons -->
  <div class="mt-3">
    <button type="button" class="btn btn-primary mr-3" (click)="checkPassword()">Check Password</button>
    <button type="button" class="btn btn-secondary" (click)="generatePassword()">Generate Secure Password</button>
  </div>

  <!-- Personal Details Input (Visible only in Advanced Mode) -->
  <div *ngIf="mode === 'advanced' && !generatedPassword">
    <div class="mb-3">
      <label for="firstName" class="form-label">First Name</label>
      <input type="text" id="firstName" class="form-control" [(ngModel)]="personalDetails.firstName" placeholder="Enter your first name">
    </div>
    <div class="mb-3">
      <label for="lastName" class="form-label">Last Name</label>
      <input type="text" id="lastName" class="form-control" [(ngModel)]="personalDetails.lastName" placeholder="Enter your last name">
    </div>
    <div class="mb-3">
      <label for="birthDate" class="form-label">Birth Date</label>
      <input type="date" id="birthDate" class="form-control" [(ngModel)]="personalDetails.birthDate">
    </div>
  </div>
  <!-- Generated Password Display -->
<div *ngIf="generatedPassword" class="mt-3">
  <h4>Generated Password:</h4>
  <p>{{ generatedPassword }}</p>
  <button class="btn btn-secondary" (click)="copyToClipboard()">Copy</button>
</div>
</div>

